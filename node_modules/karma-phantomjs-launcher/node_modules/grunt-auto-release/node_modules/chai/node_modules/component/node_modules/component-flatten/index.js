
var semver = require('semver')

/**
 * returns the tree nodes, not the component.json,
 * so you can handle the resolved deps yourself.
 *
 * @param {Object} tree
 * @return {Array}
 * @api public
 */

module.exports = function (tree) {
  var resolved = []
  var deps = {}
  var dependencies = []
  var locals = []

  // duplicate dependencies
  var duplicates = {};

  traverse(tree)

  // flatten the dependencies
  Object.keys(deps).forEach(function (name) {
    var branches = deps[name]
    var releases = 